{"version":3,"sources":["logo.png","wechat.png","alipay.jpg","services/api.js","models/setting.js","models/word.js","models/dict.js","models/count.js","components/ImgUploader/index.js","utils/utils.js","pages/Memorize/index.js","pages/Add/index.js","pages/Dict/index.js","locale/config.js","locale/en.js","locale/cn.js","pages/Setting/index.js","pages/Donate/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","_callee","dictId","regenerator_default","a","wrap","_context","prev","next","abrupt","localForage","getItem","stop","updateWord","_x2","_x3","_updateWord","apply","this","arguments","_callee2","words","_context2","setItem","_callee3","_context3","updateDict","_x4","_updateDict","_callee4","dicts","_context4","_callee5","_context5","removeItem","_callee6","dict","_context6","_callee7","_context7","_callee8","_context8","_callee9","setting","_context9","getCountList","_getCountList","_callee10","_context10","setCountList","_x8","_setCountList","_callee11","list","_context11","get","callback","_getSetting","getSetting","then","data","locale","catch","err","console","log","set","_ref","onSuccess","_x7","_setSetting","setSetting","query","_x","_fetchWord","fetchWord","add","_fetchDict","fetchDict","remove","_ref3","_x5","_removeDict","removeDict","setCurrent","_ref4","_x6","_setCurrentDict","setCurrentDict","getCurrent","_getCurrentDict","getCurrentDict","save","name","content","blob","Blob","type","saveAs","genCountListItem","queryWords","forEach","word","push","text","count","dictCountList","find","item","length","listItem","existListItem","slice","map","countList","queryDicts","id","Dragger","TextArea","ImgUploader","_this$props","props","img","onImgChange","onImgPaste","rest","Object","objectWithoutProperties","imgUploader","react_default","createElement","row","gutter","col","span","listType","className","showUploadList","onChange","beforeUpload","width","src","alt","icon","uploaderTip","style","display","height","placeholder","pasteAreaTip","onPaste","PureComponent","getBase64","reader","FileReader","addEventListener","result","readAsDataURL","Item","Group","GRPLEN","Memorize","state","index","current","uploaderShow","memorized","group","getWords","_this","setState","genGroup","undefined","queryCountList","randomEnd","parseInt","Math","random","temp","len","_loop","i","min","j","splice","genNextIndex","randomIndex","getRealLength","arr","_","handleMemorize","_this$state","newData","handleRemove","that","assertThisInitialized","_this$state2","memorizePage","modal","confirm","title","deleteModalTitle","onOk","tmp","filter","removeCountListItem","okText","deleteModalOk","cancelText","deleteModalCancel","handleUploadShow","processImg","handleImgChange","info","file","fileList","originFileObj","handleImgPaste","e","clipboardData","items","status","kind","getAsFile","handleAddImg","wordIndex","_this$state3","media","_ref2","update","handleCancelAddImg","handleClear","_this2","_this$state4","xs","offset","md","badge","concat","progress","default","percent","parseFloat","toFixed","size","es_button","onClick","ghost","reset","react","block","htmlType","theme","card","bordered","kana","es_list","dataSource","interpres","renderItem","key","components_ImgUploader","uploadAdd","uploadCancel","empty","description","emptyTip","Option","formItemLayout","labelCol","sm","wrapperCol","Add","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","prepareForm","formData","form","interpreKeys","interpre","value","getFieldDecorator","initialValue","interpreItems","Add_Item","rules","required","message","addPage","interpreWarning","Add_TextArea","autosize","minRows","maxRows","interprePlaceholder","handleRemoveListItem","cache","imgData","stateImg","onCache","getFieldsValue","handleSubmit","preventDefault","validateFields","values","interpreArr","success","successInfo","clearForm","handleAddListItem","keys","getFieldValue","nextKey","newKeys","setFieldsValue","defineProperty","oldKey","_this$props2","resetFields","handleCancel","clearWarning","clearOk","clearCancel","onRetrieve","_this$props3","_this3","_this$props4","es_form","assign","onSubmit","dictWarning","es_select","dictPlaceholder","textWarning","input","textPlaceholder","kanaPlaceholder","cancel","src_pages_Add","create","Dict","modalVisible","modalType","editingDict","getDicts","handleAdd","handleSetCurrent","dictPage","setCurrentSuccessInfo","handleRename","newDicts","removeDictWarning","removeDictSuccessInfo","removeDictModalOK","modalCancel","addDict","addDictSuccessInfo","renameDict","rename","renameDictSuccessInfo","handleModalOkClick","Date","getTime","error","handleSave","JSON","stringify","handleFileChange","dictionary","parse","addWords","wrongDictFormatWarning","readAsText","Dict_Group","createDict","upload","importDict","popover","trigger","overlayStyle","zIndex","exportDict","placement","currentDict","createDictModalTitle","visible","onCancel","createDictModalOk","Dict_Item","nameWarning","namePlaceholder","src_pages_Dict","config","appPage","memorize","languageModalTitle","languageModalOk","languageModalCancel","settingPage","license","language","feedback","sourceCode","donate","Paragraph","RadioGroup","es_radio","Setting","handleIssue","window","location","replace","handleSourceCode","handleDonate","history","localeName","onChangeLanguage","onRadioChange","onLanguageClick","marginBottom","href","target","logo","locales","Donate","alipay","wechat","createBrowserHistory","App","page","languageItems","getSettings","localeFound","handleRadioChange","handleChangeLanguage","handleMenuClick","handleCache","handleRetrieve","pathname","react_router","affix","menu","selectedKeys","mode","App_Item","App_RadioGroup","path","exact","render","to","from","src_pages_Memorize","src_pages_Setting","component","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","ReactDOM","App_App","document","getElementById","URL","process","origin","fetch","response","contentType","headers","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.685abb1f.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/wechat.0011dfd8.png\";","module.exports = __webpack_public_path__ + \"static/media/alipay.6430919d.jpg\";","import localForage from 'localforage';\r\nimport { saveAs } from 'file-saver';\r\n\r\nexport async function fetchWord(dictId) {\r\n    return localForage.getItem(dictId);\r\n}\r\n\r\nexport async function updateWord(dictId, words) {\r\n    return localForage.setItem(dictId, words);\r\n}\r\n\r\nexport async function fetchDict() {\r\n    return localForage.getItem('dicts');\r\n}\r\n\r\nexport async function updateDict(dicts) {\r\n    return localForage.setItem('dicts', dicts);\r\n}\r\n\r\nexport async function removeDict(dictId) {\r\n    return localForage.removeItem(dictId);\r\n}\r\n\r\nexport async function setCurrentDict(dict) {\r\n    return localForage.setItem('current', dict);\r\n}\r\n\r\nexport async function getCurrentDict() {\r\n    return localForage.getItem('current');\r\n}\r\n\r\nexport async function getSetting() {\r\n    return localForage.getItem('setting');\r\n}\r\n\r\nexport async function setSetting(setting) {\r\n    return localForage.setItem('setting', setting);\r\n}\r\n\r\nexport async function getCountList() {\r\n    return localForage.getItem('countList');\r\n}\r\n\r\nexport async function setCountList(list) {\r\n    return localForage.setItem('countList', list);\r\n}\r\n\r\nexport function save({ name, content }) {\r\n    const blob = new Blob([content], {type: \"text/json;charset=utf-8\"});\r\n    return saveAs(blob, name);\r\n}\r\n","import {\r\n    setSetting,\r\n    getSetting,\r\n} from '../services/api';\r\n\r\nexport function get(callback) {\r\n    getSetting().then(data => {\r\n        if (data === null) {\r\n            data = {\r\n                locale: '',\r\n            };\r\n        }\r\n\r\n        callback(data);\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n}\r\n\r\nexport function set({ setting, onSuccess }) {\r\n    setSetting(setting).then(() => {\r\n        onSuccess();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n}\r\n","import { fetchWord, updateWord, } from '../services/api';\r\n\r\nexport function query(dictId, callback) {\r\n  fetchWord(dictId).then(data => {\r\n    if (data === null) {\r\n      data = [];\r\n    }\r\n\r\n    callback(data);\r\n  }).catch(err => {\r\n    console.log(err);\r\n  })\r\n}\r\n\r\nexport function add({ dictId, words, onSuccess }) {\r\n  updateWord(dictId, words).then(() => {\r\n    onSuccess();\r\n  }).catch(err => {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\nexport function update({ dictId, words, onSuccess }) {\r\n  updateWord(dictId, words).then(() => {\r\n    onSuccess();\r\n  }).catch(err => {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\nexport function remove({ dictId, words, onSuccess }) {\r\n  updateWord(dictId, words).then(() => {\r\n    onSuccess();\r\n  }).catch(err => {\r\n    console.log(err);\r\n  })\r\n}\r\n","import {\r\n  fetchDict,\r\n  updateDict,\r\n  removeDict,\r\n  setCurrentDict,\r\n  getCurrentDict,\r\n  save as saveAs,\r\n} from '../services/api';\r\n\r\nexport function query(callback) {\r\n  fetchDict().then(data => {\r\n    if (data === null) {\r\n      data = [];\r\n    }\r\n\r\n    callback(data);\r\n  }).catch(err => {\r\n    console.log(err);\r\n  })\r\n}\r\n\r\nexport function add({ dicts, onSuccess }) {\r\n  updateDict(dicts).then(() => {\r\n    onSuccess();\r\n  }).catch(err => {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\nexport function rename({ dicts, onSuccess }) {\r\n  updateDict(dicts).then(() => {\r\n    onSuccess();\r\n  }).catch(err => {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\nexport function remove({ dicts, dictId, onSuccess }) {\r\n  updateDict(dicts).then(() => {\r\n    removeDict(dictId).then(() => {\r\n      onSuccess();\r\n    }).catch(err => {\r\n      console.log(err);\r\n    });\r\n  }).catch(err => {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\nexport function setCurrent({ dict, onSuccess }) {\r\n  setCurrentDict(dict).then(() => {\r\n    onSuccess();\r\n  }).catch(err => {\r\n    console.log(err);\r\n  });\r\n}\r\n\r\nexport function getCurrent(onSuccess) {\r\n  getCurrentDict().then(data => {\r\n    onSuccess(data);\r\n  });\r\n}\r\n\r\nexport function save(dict) {\r\n  return saveAs(dict);\r\n}\r\n","import { getCountList, setCountList } from '../services/api';\r\nimport { query as queryDicts } from \"../models/dict\";\r\nimport { query as queryWords } from '../models/word';\r\n\r\nconst genCountListItem = (dictId, callback) => {\r\n  queryWords(dictId, words => {\r\n    const data = [];\r\n\r\n    words.forEach((word) => {\r\n      data.push({\r\n        word: word.text,\r\n        count: 0,\r\n      });\r\n    });\r\n\r\n    callback({\r\n      dictId: dictId,\r\n      data,\r\n    });\r\n  });\r\n};\r\n\r\nexport function query(dictId, onSuccess) {\r\n  getCountList().then(data => {\r\n    if (!data) {\r\n      const countList = [];\r\n\r\n      queryDicts(dicts => {\r\n        dicts.forEach(dict => {\r\n          genCountListItem(dict.id, listItem => {\r\n            countList.push(listItem);\r\n\r\n            setCountList(countList).catch(err => console.log(err));\r\n\r\n            onSuccess(countList[dictId]);\r\n          });\r\n        });\r\n      });\r\n    } else {\r\n      const dictCountList = data.find(item => item.dictId===dictId);\r\n      queryWords(dictId, words => {\r\n        if (!dictCountList || dictCountList.data.length < words.length) {\r\n          genCountListItem(dictId, listItem => {\r\n            const existListItem = data.find(item => item.dictId === listItem.dictId);\r\n\r\n            if (existListItem) {\r\n              existListItem.data.push({\r\n                word: words.slice(-1)[0].text,\r\n                count: 0,\r\n              });\r\n\r\n              data = data.map(item => {\r\n                if (item.dictId === existListItem.dictId) {\r\n                  return existListItem;\r\n                } else {\r\n                  return item;\r\n                }\r\n              });\r\n            } else {\r\n              data.push(listItem);\r\n            }\r\n    \r\n            setCountList(data).catch(err => console.log(err));\r\n    \r\n            onSuccess(listItem);\r\n          });\r\n        } else {\r\n          onSuccess(dictCountList);\r\n        }\r\n      });\r\n    }\r\n  }).catch(err => {\r\n    console.log(err);\r\n  })\r\n}\r\n\r\nexport function remove(dictId, text) {\r\n  getCountList().then(data => {\r\n    if (data && data.length > 0) {\r\n      setCountList(data.map(dictCountList => {\r\n        if (dictCountList.dictId===dictId) {\r\n          return {\r\n            dictId,\r\n            data: dictCountList.data.filter(item => item.word!==text)\r\n          };\r\n        } else {\r\n          return dictCountList;\r\n        }\r\n      })).catch(err => console.log(err));\r\n    }\r\n  });\r\n}\r\n\r\nexport function update(listItem) {\r\n  getCountList().then(data => {\r\n    let countList;\r\n    if (data === null) {\r\n      countList = [];\r\n      countList.push(listItem);\r\n    } else {\r\n      countList = data.map(item => {\r\n        if (item.dictId === listItem.dictId) {\r\n          return listItem;\r\n        } else {\r\n          return item;\r\n        }\r\n      });\r\n\r\n      setCountList(countList).catch(err => console.log(err));\r\n    }\r\n  });\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport {\r\n  Row,\r\n  Col,\r\n  Upload,\r\n  Icon,\r\n  Input,\r\n} from 'antd';\r\n\r\nconst { Dragger } = Upload;\r\nconst { TextArea } = Input;\r\n\r\nclass ImgUploader extends PureComponent {\r\n  render() {\r\n    const {\r\n      img,\r\n      onImgChange,\r\n      onImgPaste,\r\n      locale,\r\n      ...rest\r\n    } = this.props;\r\n    const { imgUploader } = locale;\r\n\r\n    return (\r\n      <div { ...rest }>\r\n        <Row gutter={ 8 }>\r\n          <Col span={ 12 }>\r\n            <Dragger\r\n              name=\"avatar\"\r\n              listType=\"picture-card\"\r\n              className=\"avatar-uploader\"\r\n              showUploadList={ false }\r\n              onChange={ onImgChange }\r\n              beforeUpload={ () => false }\r\n              id=\"uploader\"\r\n            >\r\n              { img ? (\r\n                <img width=\"100%\" src={ img } alt=\"avatar\" />\r\n              ) : (\r\n                <div>\r\n                  <Icon type=\"plus\" />\r\n                  <div className=\"ant-upload-text\">{ imgUploader.uploaderTip } </div>\r\n                </div>\r\n              ) }\r\n            </Dragger>\r\n          </Col>\r\n          <Col span={ 12 }>\r\n            <TextArea\r\n              style={{\r\n                display: 'block',\r\n                height: 85.33,\r\n              }}\r\n              placeholder={ imgUploader.pasteAreaTip }\r\n              onPaste={ onImgPaste }\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ImgUploader;\r\n","export function getBase64(img, callback) {\r\n    const reader = new FileReader();\r\n    reader.addEventListener('load', () => callback(reader.result));\r\n    reader.readAsDataURL(img);\r\n}","import React, {\r\n  PureComponent,\r\n  Fragment,\r\n} from 'react';\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  List,\r\n  Button,\r\n  Icon,\r\n  Empty,\r\n  Badge,\r\n  Modal,\r\n  Progress,\r\n} from 'antd';\r\nimport { query, remove, update } from '../../models/word';\r\nimport { getCurrent as getCurrentDict } from '../../models/dict';\r\nimport {\r\n  query as queryCountList,\r\n  update as updateCountList,\r\n  remove as removeCountListItem,\r\n} from \"../../models/count\";\r\nimport ImgUploader from '../../components/ImgUploader';\r\nimport { getBase64 } from '../../utils/utils';\r\nimport './index.css';\r\n\r\nconst { Item } = List;\r\nconst { Group } = Button;\r\n\r\n// @TODO 暂时先设置一个组长\r\n\r\nconst GRPLEN = 50;\r\n\r\nclass Memorize extends PureComponent {\r\n  state = {\r\n    index: 0,\r\n    words: [],\r\n    current: null,\r\n    uploaderShow: false,\r\n    img: null,\r\n    memorized: [],\r\n    group: [],\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.getWords();\r\n  }\r\n\r\n  getWords = () => {\r\n    getCurrentDict(current => {\r\n      if (current !== null) {\r\n        query(current.id, words => {\r\n          this.setState({ words });\r\n          this.genGroup(words);\r\n        });\r\n      }\r\n\r\n      this.setState({ current });\r\n    });\r\n  };\r\n\r\n  genGroup = (words=null) => {\r\n    if (words === null) {\r\n      words = this.state.words;\r\n    }\r\n\r\n    getCurrentDict(current => {\r\n      if (current !== null) {\r\n        queryCountList(current.id, countList => {\r\n          const list = countList.data;\r\n          const group = [];\r\n\r\n          // 对list进行随机化，防止背单词时枯燥\r\n          let randomEnd = list.length;\r\n          while (randomEnd > 0) {\r\n            const index = parseInt(Math.random()*randomEnd, 10);\r\n\r\n            const temp = list[randomEnd-1];\r\n            list[randomEnd-1] = list[index];\r\n            list[index] = temp;\r\n\r\n            randomEnd -= 1;\r\n          }\r\n\r\n          const len = GRPLEN < list.length ? GRPLEN : list.length;\r\n          for (let i = 0; i < len; i++) {\r\n            let min = list[0];\r\n            let index = 0;\r\n\r\n            for (let j = 1; j < list.length; j++) {\r\n              if (min.count > list[j].count) {\r\n                min = list[j];\r\n                index = j;\r\n              }\r\n            }\r\n\r\n            group.push(words.find(item=> item.text===min.word));\r\n            list.splice(index, 1);\r\n          }\r\n\r\n          this.setState({ group });\r\n          this.genNextIndex(group.length);\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  genNextIndex = (length=null) => {\r\n    if (length === null) {\r\n      const { group } = this.state;\r\n\r\n      length = group.length;\r\n    }\r\n\r\n    const randomIndex = parseInt(Math.random()*length, 10);\r\n\r\n    this.setState({ index: randomIndex });\r\n    return randomIndex;\r\n  };\r\n\r\n  getRealLength = (arr) => {\r\n    // 因为给下标赋值会造成此下边之前的值全是empty，所以要求真实的长度\r\n    let count = 0;\r\n    for (let _ in arr) {\r\n      count += 1;\r\n    }\r\n\r\n    return count;\r\n  };\r\n\r\n  handleMemorize = (text) => {\r\n    const { memorized, current } = this.state;\r\n\r\n    memorized[text] = true;\r\n    this.setState({ memorized });\r\n\r\n    queryCountList(current.id, countList => {\r\n      const newData = countList.data.map(item => {\r\n        if (item.word === text) {\r\n          return {\r\n            word: text,\r\n            count: item.count + 1,\r\n          }\r\n        } else {\r\n          return item;\r\n        }\r\n      });\r\n\r\n      updateCountList({\r\n        dictId: current.id,\r\n        data: newData,\r\n      });\r\n    });\r\n\r\n    this.genNextIndex();\r\n  };\r\n\r\n  handleRemove = (text) => {\r\n    const that = this;\r\n    const { words, current } = this.state;\r\n    const { locale } = this.props;\r\n    const { memorizePage } = locale;\r\n\r\n    Modal.confirm({\r\n      title: memorizePage.deleteModalTitle,\r\n      onOk() {\r\n        const tmp = words.filter((word) => word.text!==text);\r\n\r\n        remove({\r\n          dictId: current.id,\r\n          words: tmp,\r\n          onSuccess: () => {\r\n            that.getWords();\r\n          },\r\n        });\r\n\r\n        removeCountListItem(current.id, text);\r\n      },\r\n      okText: memorizePage.deleteModalOk,\r\n      cancelText: memorizePage.deleteModalCancel,\r\n    });\r\n  };\r\n\r\n  handleUploadShow = () => {\r\n    this.setState({ uploaderShow: true });\r\n  };\r\n\r\n  processImg = (img) => {\r\n    this.setState({\r\n      img,\r\n    });\r\n  };\r\n\r\n  handleImgChange = (info) => {\r\n    const file = info.fileList[info.fileList.length - 1].originFileObj;\r\n    if (file) {\r\n      getBase64(file, this.processImg);\r\n    }\r\n  };\r\n\r\n  handleImgPaste = (e) => {\r\n    if (e.clipboardData && e.clipboardData.items) {\r\n      const { items } = e.clipboardData;\r\n\r\n      let status = true;\r\n      for (let i = 0;\r\n        status && (i < items.length);\r\n        i+=1) {\r\n\r\n        const item = items[i];\r\n\r\n        if (item.kind === \"file\") {\r\n            const file = item.getAsFile();\r\n\r\n            getBase64(file, this.processImg);\r\n\r\n            status = false;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  handleAddImg = (wordIndex) => {\r\n    const { img, words, current } = this.state;\r\n\r\n    const word = words[wordIndex];\r\n\r\n    word.media.content = img;\r\n\r\n    update({\r\n      dictId: current.id,\r\n      words,\r\n      onSuccess: () => {\r\n        this.setState({ uploaderShow: false, img: null });\r\n      },\r\n    });\r\n  };\r\n\r\n  handleCancelAddImg = () => {\r\n    this.setState({\r\n      img: null,\r\n      uploaderShow: false,\r\n    });\r\n  };\r\n\r\n  handleClear = () => {\r\n    this.setState({\r\n      memorized: [],\r\n      group: [],\r\n    });\r\n\r\n    this.genGroup();\r\n  };\r\n\r\n  render() {\r\n    const { locale } = this.props;\r\n    const { memorizePage } = locale;\r\n    const {\r\n      index,\r\n      words,\r\n      current,\r\n      uploaderShow,\r\n      img,\r\n      memorized,\r\n      group,\r\n    } = this.state;\r\n\r\n    return (\r\n      <Col\r\n        xs={{ span:22, offset:1 }}\r\n        md={{ span: 12, offset: 6 }}\r\n      >\r\n        { current!==null && current.name && (\r\n          <div className=\"topWrapper\">\r\n            <Badge\r\n              status=\"processing\"\r\n              text={ `${current.name} (${words.length})` }\r\n              className=\"current\"\r\n            />\r\n            <div className=\"progressWrapper\">\r\n              <Progress\r\n                className=\"progress\"\r\n                status=\"active\"\r\n                default=\"small\"\r\n                percent={\r\n                  parseFloat((this.getRealLength(memorized)/group.length*100).toFixed(1))\r\n                }\r\n                size=\"small\"\r\n              />\r\n              <Button\r\n                onClick={ this.handleClear }\r\n                type=\"primary\"\r\n                size=\"small\"\r\n                ghost\r\n              >\r\n                { memorizePage.reset }\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        ) }\r\n        { group.length > 0 && group[index] ? (\r\n          <Fragment>\r\n            <Button\r\n              size=\"large\"\r\n              block\r\n              type=\"primary\"\r\n              className=\"btn\"\r\n              htmlType=\"button\"\r\n              onClick={ () => this.handleMemorize(group[index].text) }\r\n            >\r\n              <Icon type=\"thunderbolt\" theme=\"filled\" />\r\n            </Button>\r\n            <Card\r\n              bordered\r\n            >\r\n              <Row>\r\n                <Col span={ 16 }>\r\n                  <h2>{ group[index].text }</h2>\r\n                  <h3>{ group[index].kana }</h3>\r\n                </Col>\r\n                <Col span={ 8 } className=\"btnRightWrapper\">\r\n                  <Group>\r\n                    <Button\r\n                      htmlType=\"button\"\r\n                      onClick={ this.handleUploadShow }\r\n                    >\r\n                        <Icon type=\"picture\" />\r\n                      </Button>\r\n                    <Button\r\n                      htmlType=\"button\"\r\n                      onClick={ () => this.handleRemove(group[index].text) }\r\n                    >\r\n                      <Icon type=\"delete\" />\r\n                    </Button>\r\n                  </Group>\r\n                </Col>\r\n              </Row>\r\n              <List\r\n                bordered\r\n                dataSource={ group[index].interpres }\r\n                renderItem={item => (\r\n                  <Item\r\n                    key={ item.id }\r\n                  >\r\n                    { item.text }\r\n                  </Item>\r\n                )}\r\n              />\r\n              { (group[index].media.type==='img' && group[index].media.content) && (\r\n                <img\r\n                  className=\"img\"\r\n                  src={ group[index].media.content }\r\n                  alt=\"释义图片(interpretationImg)\"\r\n                />\r\n              ) }\r\n              { uploaderShow && (\r\n                <Fragment>\r\n                  <ImgUploader\r\n                    className=\"uploader\"\r\n                    onImgChange={ this.handleImgChange }\r\n                    onImgPaste={ this.handleImgPaste }\r\n                    img={ img }\r\n                    locale={ locale }\r\n                  />\r\n                  <Row gutter={ 8 }>\r\n                    <Col span={ 12 }>\r\n                      <Button\r\n                        type=\"primary\"\r\n                        block\r\n                        onClick={ () => this.handleAddImg(index) }\r\n                      >\r\n                        { memorizePage.uploadAdd }\r\n                      </Button>\r\n                    </Col>\r\n                    <Col span={ 12 }>\r\n                      <Button\r\n                        block\r\n                        onClick={ this.handleCancelAddImg }\r\n                      >\r\n                        { memorizePage.uploadCancel }\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </Fragment>\r\n              ) }\r\n            </Card>\r\n          </Fragment>\r\n        ) : (\r\n          <Empty\r\n            description={ memorizePage.emptyTip }\r\n          />\r\n        ) }\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Memorize;\r\n","import React, { PureComponent } from 'react';\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Button,\r\n  Form,\r\n  Input,\r\n  Icon,\r\n  Modal,\r\n  message,\r\n  Select,\r\n} from 'antd';\r\nimport { query as queryDicts, getCurrent } from '../../models/dict';\r\nimport { query as queryWords, add } from '../../models/word';\r\nimport ImgUploader from '../../components/ImgUploader';\r\nimport { getBase64 } from '../../utils/utils';\r\nimport './index.css';\r\n\r\nconst { Item } = Form;\r\nconst { TextArea } = Input;\r\nconst { Option } = Select;\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 4 },\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 24 },\r\n  },\r\n};\r\n\r\nclass Add extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    const { onRetrieve } = this.props;\r\n\r\n    this.state = {\r\n      img: onRetrieve().img,\r\n      dicts: [],\r\n      current: null,\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    queryDicts(dicts => {\r\n      this.setState({ dicts });\r\n    });\r\n\r\n    getCurrent(current => {\r\n      this.setState({ current });\r\n    });\r\n\r\n    const { locale } = this.props;\r\n    this.addPage = locale.addPage;\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { form, onRetrieve } = this.props;\r\n    const { formData } = onRetrieve();\r\n\r\n    if (formData !== null) {\r\n      const { interpre, interpreKeys, ...rest } = formData;\r\n\r\n      form.setFieldsValue(rest);\r\n    }\r\n  }\r\n\r\n  prepareForm = (formData) => {\r\n    const { form } = this.props;\r\n\r\n    let interpres;\r\n    if (formData !== null) {\r\n      const { interpreKeys, interpre } = formData;\r\n      interpres = interpreKeys.map((key, index) => ({\r\n        key,\r\n        value: interpre[key],\r\n      }));\r\n    } else {\r\n      interpres = [{\r\n        key: 0,\r\n        value: '',\r\n      }];\r\n    }\r\n\r\n    form.getFieldDecorator('interpreKeys', { initialValue: interpres.map(i => i.key) });\r\n\r\n    this.interpreItems = interpres.map(item => (\r\n      <Item\r\n        key={ `item${item.key}` }\r\n      >\r\n        <Row gutter={ 6 }>\r\n          <Col\r\n            span={ interpres.length>1 ? 20 : 24 }\r\n          >\r\n            {form.getFieldDecorator(`interpre[${item.key}]`, {\r\n              initialValue: item.value,\r\n              rules: [{\r\n                required: true,\r\n                message: this.addPage.interpreWarning,\r\n              }],\r\n            })(\r\n              <TextArea\r\n                key={`textArea-${item.key}`}\r\n                autosize={{\r\n                  minRows: 2,\r\n                  maxRows: 4,\r\n                }}\r\n                size=\"large\"\r\n                placeholder={ this.addPage.interprePlaceholder }\r\n              />\r\n            )}\r\n            </Col>\r\n            <Col span={ 4 } className=\"btnRightWrapper\">\r\n            { interpres.length>1 && (\r\n              <Button\r\n                type=\"primary\"\r\n                ghost\r\n                onClick={() => this.handleRemoveListItem(item.key)}\r\n              >\r\n                <Icon\r\n                  type=\"minus-circle-o\"\r\n                  key={`removeBtn-${item.key}`}\r\n                />\r\n              </Button>\r\n            ) }\r\n          </Col>\r\n        </Row>\r\n      </Item>\r\n    ));\r\n  };\r\n\r\n  cache = (imgData=null) => {\r\n    const { img: stateImg } = this.state;\r\n    const { form, onCache } = this.props;\r\n\r\n    const formData = form.getFieldsValue();\r\n\r\n    const cache = {\r\n      formData,\r\n      img: (imgData===null) ? stateImg : imgData,\r\n    };\r\n\r\n    onCache(cache);\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    const that = this;\r\n\r\n    e.preventDefault();\r\n\r\n    this.props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        const {\r\n          text,\r\n          kana,\r\n          interpreKeys,\r\n          interpre,\r\n          dict,\r\n        } = values;\r\n        const { img } = this.state;\r\n\r\n        const interpreArr = [];\r\n        for (let i = 0; i < interpreKeys.length; i+=1) {\r\n          interpreArr.push({\r\n            id: interpreKeys[i],\r\n            text: interpre[interpreKeys[i]],\r\n          });\r\n        }\r\n\r\n        const word = {\r\n          text,\r\n          kana,\r\n          interpres: interpreArr,\r\n          media: {\r\n            type: 'img',\r\n            content: img,\r\n          },\r\n        };\r\n\r\n        queryWords(dict, words => {\r\n          words.push(word);\r\n\r\n          add({\r\n            dictId: dict,\r\n            words,\r\n            onSuccess: () => {\r\n              message.success(this.addPage.successInfo);\r\n              that.clearForm();\r\n            },\r\n          });\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  processImg = (img) => {\r\n    this.setState({\r\n      img,\r\n    });\r\n\r\n    this.cache(img);\r\n  };\r\n\r\n  handleImgChange = (info) => {\r\n    const file = info.fileList[info.fileList.length - 1].originFileObj;\r\n    if (file) {\r\n      getBase64(file, this.processImg);\r\n    }\r\n  };\r\n\r\n  handleImgPaste = (e) => {\r\n    if (e.clipboardData && e.clipboardData.items) {\r\n      const { items } = e.clipboardData;\r\n\r\n      let status = true;\r\n      for (let i = 0;\r\n        status && (i < items.length);\r\n        i+=1) {\r\n\r\n        const item = items[i];\r\n\r\n        if (item.kind === \"file\") {\r\n            const file = item.getAsFile();\r\n\r\n            getBase64(file, this.processImg);\r\n\r\n            status = false;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  handleAddListItem = () => {\r\n    const { form } = this.props;\r\n    const keyName = 'interpreKeys';\r\n\r\n    const keys = form.getFieldValue(keyName);\r\n\r\n    const nextKey = keys.length === 0 ? 0 : keys[keys.length - 1] + 1;\r\n    const newKeys = keys.concat(nextKey);\r\n\r\n    form.setFieldsValue({\r\n      [keyName]: newKeys,\r\n    });\r\n\r\n    this.cache();\r\n  };\r\n\r\n  handleRemoveListItem = (key) => {\r\n    const { form } = this.props;\r\n    const keyName = 'interpreKeys';\r\n\r\n    const keys = form.getFieldValue(keyName);\r\n\r\n    if (keys.length > 1) {\r\n      form.setFieldsValue({\r\n        [keyName]: keys.filter(oldKey => oldKey !== key),\r\n      });\r\n    } else {\r\n      return;\r\n    }\r\n\r\n    this.cache();\r\n    // 实为刷新interpreKeys所用\r\n  };\r\n\r\n  clearForm = () => {\r\n    const { form, onCache } = this.props;\r\n    form.resetFields();\r\n\r\n    this.setState({ img: '' });\r\n\r\n    onCache({\r\n      formData: null,\r\n      img: null,\r\n    });\r\n  };\r\n\r\n  handleCancel = () => {\r\n    const that = this;\r\n\r\n    Modal.confirm({\r\n      title: this.addPage.clearWarning,\r\n      onOk() {\r\n        that.clearForm();\r\n      },\r\n      okText: this.addPage.clearOk,\r\n      cancelText: this.addPage.clearCancel,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { onRetrieve, locale } = this.props;\r\n    const { getFieldDecorator } = this.props.form;\r\n    const { img, dicts, current } = this.state;\r\n\r\n    this.prepareForm(onRetrieve().formData);\r\n\r\n    return (\r\n      <Col\r\n        xs={{ span:22, offset:1 }}\r\n        md={{ span:12, offset:6 }}\r\n      >\r\n        <Card\r\n          bordered\r\n        >\r\n          <Form\r\n            {...formItemLayout}\r\n            onSubmit={ this.handleSubmit }\r\n            onChange={ () => this.cache() }\r\n          >\r\n            <Item>\r\n              {getFieldDecorator('dict', {\r\n                rules: [{\r\n                  required: true,\r\n                  message: this.addPage.dictWarning,\r\n                }],\r\n                initialValue: current ? current.id : '',\r\n              })(\r\n                <Select size=\"large\" placeholder={ this.addPage.dictPlaceholder }>\r\n                  { dicts.map(item => (\r\n                    <Option\r\n                      key={ item.id }\r\n                      value={ item.id }\r\n                    >\r\n                      { item.name }\r\n                    </Option>\r\n                  )) }\r\n                </Select>\r\n              )}\r\n            </Item>\r\n            <Item>{getFieldDecorator('text', {\r\n                rules: [{\r\n                  required: true,\r\n                  message: this.addPage.textWarning,\r\n                }],\r\n              })(\r\n                <Input\r\n                  size=\"large\"\r\n                  placeholder={ this.addPage.textPlaceholder }\r\n                />\r\n              )}\r\n            </Item>\r\n            <Item>{getFieldDecorator('kana', {\r\n              initialValue: '',\r\n            })(\r\n                <Input\r\n                  size=\"large\"\r\n                  placeholder={ this.addPage.kanaPlaceholder }\r\n                />\r\n              )}\r\n            </Item>\r\n            { this.interpreItems }\r\n            <Item>\r\n              <Button\r\n                block\r\n                onClick={ this.handleAddListItem }\r\n              >\r\n                <Icon type=\"plus\" />\r\n              </Button>\r\n            </Item>\r\n            <Item>\r\n              <ImgUploader\r\n                img={ img }\r\n                onImgChange={ this.handleImgChange }\r\n                onImgPaste={ this.handleImgPaste }\r\n                locale={ locale }\r\n              />\r\n            </Item>\r\n          </Form>\r\n          <Button\r\n            size=\"large\"\r\n            className=\"btn\"\r\n            block\r\n            type=\"primary\"\r\n            onClick={ this.handleSubmit }\r\n          >\r\n            { this.addPage.add }\r\n          </Button>\r\n          <Button\r\n            size=\"large\"\r\n            className=\"btn\"\r\n            block\r\n            onClick={ this.handleCancel }\r\n          >\r\n            { this.addPage.cancel }\r\n          </Button>\r\n        </Card>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Form.create()(Add);\r\n","import React, { PureComponent } from 'react';\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Button,\r\n  Modal,\r\n  Form,\r\n  Input,\r\n  Popover,\r\n  List,\r\n  message,\r\n  Upload,\r\n} from 'antd';\r\nimport {\r\n  query,\r\n  add,\r\n  getCurrent,\r\n  setCurrent,\r\n  remove,\r\n  rename,\r\n  save,\r\n} from '../../models/dict';\r\nimport {\r\n  query as queryWords,\r\n  add as addWords,\r\n} from '../../models/word';\r\nimport './index.css';\r\n\r\nconst { Item } = Form;\r\nconst { Group } =Button;\r\n\r\nclass Dict extends PureComponent {\r\n  state = {\r\n    dicts: [],\r\n    current: null,\r\n    modalVisible: false,\r\n    modalType: null,\r\n    editingDict: null,\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.getDicts();\r\n    this.getCurrentDict();\r\n\r\n    const { locale } = this.props;\r\n    this.dictPage = locale.dictPage;\r\n  };\r\n\r\n  getDicts = () => {\r\n    this.setState({ dicts: [] });\r\n    // 防止过期数据累积\r\n    query(dicts => {\r\n      dicts.forEach(dict => {\r\n        queryWords(dict.id, words => {\r\n          const { dicts } = this.state;\r\n\r\n          const tmp = dicts.map(item => item);\r\n          dict.length = words.length;\r\n          tmp.push(dict);\r\n\r\n          this.setState({ dicts: tmp });\r\n        });\r\n      });\r\n    });\r\n  };\r\n\r\n  getCurrentDict = () => {\r\n    getCurrent(dict => {\r\n      this.setState({ current: dict });\r\n    });\r\n  };\r\n\r\n  handleAdd = () => {\r\n    this.setState({ modalVisible: true, modalType: 'add' });\r\n  };\r\n\r\n  handleSetCurrent = (dict) => {\r\n    setCurrent({\r\n      dict,\r\n      onSuccess: () => {\r\n        message.success(this.dictPage.setCurrentSuccessInfo);\r\n        this.getCurrentDict();\r\n      },\r\n    });\r\n  };\r\n\r\n  handleRename = (dict) => {\r\n    const { form } = this.props;\r\n\r\n    form.setFieldsValue({\r\n      name: dict.name,\r\n    });\r\n\r\n    this.setState({\r\n      modalVisible: true,\r\n      modalType: 'rename',\r\n      editingDict: dict,\r\n    });\r\n  };\r\n\r\n  handleRemove = (dict) => {\r\n    const that = this;\r\n    const { dicts, current } = this.state;\r\n    const newDicts = dicts.filter(item => item.id!==dict.id);\r\n\r\n    Modal.confirm({\r\n      title: this.dictPage.removeDictWarning,\r\n      onOk() {\r\n        if (dict.id === current.id) {\r\n          setCurrent({\r\n            dict: {},\r\n            onSuccess: () => {},\r\n          });\r\n        }\r\n\r\n        remove({\r\n          dicts: newDicts,\r\n          dictId: dict.id,\r\n          onSuccess: () => {\r\n            message.success(that.dictPage.removeDictSuccessInfo);\r\n            that.getDicts();\r\n          },\r\n        });\r\n      },\r\n      okText: this.dictPage.removeDictModalOK,\r\n      cancelText: this.dictPage.modalCancel,\r\n    });\r\n  };\r\n\r\n  addDict = (dict, dicts, current) => {\r\n    dicts.push(dict);\r\n\r\n    add({\r\n      dicts,\r\n      onSuccess: () => {\r\n        message.success(this.dictPage.addDictSuccessInfo);\r\n        this.setState({ modalVisible: false });\r\n        this.getDicts();\r\n\r\n        if (current === null) {\r\n          setCurrent({\r\n            dict,\r\n            onSuccess: () => {\r\n              message.success(this.dictPage.setCurrentSuccessInfo);\r\n              this.getCurrentDict();\r\n            },\r\n          });\r\n        }\r\n      },\r\n    });\r\n  };\r\n\r\n  renameDict = (dict, dicts, current) => {\r\n    // 传进来的dict是已经修改过的\r\n    const temp = dicts.map(item => {\r\n      if (item.id === dict.id) {\r\n        return dict;\r\n      } else {\r\n        return item;\r\n      }\r\n    });\r\n\r\n    rename({\r\n      dicts: temp,\r\n      onSuccess: () => {\r\n        message.success(this.dictPage.renameDictSuccessInfo);\r\n        this.setState({ modalVisible: false });\r\n        this.getDicts();\r\n\r\n        if (current.id === dict.id) {\r\n          setCurrent({\r\n            dict,\r\n            onSuccess: () => {\r\n              this.getCurrentDict();\r\n            },\r\n          });\r\n        }\r\n      },\r\n    });\r\n  };\r\n\r\n  handleModalOkClick  = (e) => {\r\n    e.preventDefault();\r\n\r\n    const {\r\n      modalType,\r\n      dicts,\r\n      current,\r\n    } = this.state;\r\n\r\n    const { form } = this.props;\r\n\r\n    form.validateFields((err, { name }) => {\r\n      if (!err) {\r\n        switch (modalType) {\r\n          case 'add': {\r\n            const dict = {\r\n              id: `${new Date().getTime()}`,\r\n              name,\r\n            };\r\n\r\n            this.addDict(dict, dicts, current);\r\n          }\r\n          break;\r\n\r\n          case 'rename': {\r\n            const { editingDict } = this.state;\r\n\r\n            editingDict.name = name;\r\n            this.renameDict(editingDict, dicts, current);\r\n          }\r\n          break;\r\n\r\n          default:\r\n            console.error(\"【/Dict/index.js】一定是代码出错了！要不不可能到这个switch分支里来！\");\r\n        }\r\n\r\n        this.setState({ modalType: null, editingDict: null });\r\n        form.resetFields();\r\n      }\r\n    });\r\n  };\r\n\r\n  handleSave = (dict) => {\r\n    queryWords(dict.id, words => {\r\n      save({\r\n        name: `${dict.name}.json`,\r\n        content: JSON.stringify({\r\n          dict,\r\n          words,\r\n        }),\r\n      });\r\n    });\r\n  };\r\n\r\n  handleFileChange = (info) => {\r\n    const file = info.fileList[info.fileList.length - 1].originFileObj;\r\n    const reader = new FileReader();\r\n    const { dicts, current } = this.state;\r\n\r\n    reader.addEventListener('load', () => {\r\n      try {\r\n        const dictionary = JSON.parse(reader.result);\r\n\r\n        const { dict, words } = dictionary;\r\n\r\n        if (dict!==null && words!==null) {\r\n          this.addDict(dict, dicts, current);\r\n          addWords({\r\n            dictId: dict.id,\r\n            words,\r\n            onSuccess: () => {},\r\n          });\r\n        } else {\r\n          message.error(this.dictPage.wrongDictFormatWarning);\r\n        }\r\n      } catch (e) {\r\n        message.error(this.dictPage.wrongDictFormatWarning);\r\n      }\r\n    });\r\n    reader.readAsText(file);\r\n  };\r\n\r\n  render() {\r\n    const { modalVisible, dicts, current } = this.state;\r\n    const { form } = this.props;\r\n    const { getFieldDecorator } = form;\r\n\r\n    return (\r\n      <Col\r\n        xs={{ span:22, offset:1 }}\r\n        md={{ span:12, offset:6 }}\r\n      >\r\n        <Group\r\n          className=\"btnGroup\"\r\n        >\r\n          <Button\r\n            type=\"primary\"\r\n            className=\"btn\"\r\n            ghost\r\n            onClick={this.handleAdd}\r\n          >\r\n            { this.dictPage.createDict }\r\n        </Button>\r\n          <Upload\r\n            showUploadList={false}\r\n            onChange={this.handleFileChange}\r\n            beforeUpload={() => false}\r\n          >\r\n            <Button\r\n              type=\"primary\"\r\n              className=\"upBtn\"\r\n              ghost\r\n            >\r\n              { this.dictPage.importDict }\r\n          </Button>\r\n          </Upload>\r\n        </Group>\r\n        <Row gutter={ 8 }>\r\n          { dicts.map(item => (\r\n            <Col span={ 12 } key={ item.id }>\r\n              <Popover\r\n                trigger=\"click\"\r\n                overlayStyle={{ zIndex: '1' }}\r\n                content={\r\n                  <List>\r\n                    <List.Item\r\n                      onClick={ () => {\r\n                        this.handleSetCurrent(item);\r\n                      }}\r\n                    >\r\n                      { this.dictPage.setCurrentDict }\r\n                    </List.Item>\r\n                    <List.Item\r\n                      onClick={ () => {\r\n                        this.handleRename(item);\r\n                      }}\r\n                    >\r\n                      { this.dictPage.renameDict }\r\n                    </List.Item>\r\n                    <List.Item\r\n                      onClick={ () => this.handleSave(item) }\r\n                    >\r\n                      { this.dictPage.exportDict }\r\n                    </List.Item>\r\n                    <List.Item\r\n                      onClick={ () => this.handleRemove(item) }\r\n                    >\r\n                      { this.dictPage.removeDict }\r\n                    </List.Item>\r\n                  </List>\r\n                }\r\n                placement=\"right\"\r\n              >\r\n                <Card\r\n                  bordered\r\n                  className=\"dict\"\r\n                >\r\n                  { item.name }\r\n                  <span>{ item.length }</span>\r\n                  { (current && item.id===current.id) && (\r\n                    <span className=\"current\">{ this.dictPage.currentDict }</span>\r\n                  ) }\r\n                </Card>\r\n              </Popover>\r\n            </Col>\r\n          )) }\r\n        </Row>\r\n\r\n        <Modal\r\n          title={ this.dictPage.createDictModalTitle }\r\n          visible={ modalVisible }\r\n          onOk={ this.handleModalOkClick }\r\n          onCancel={ () => {\r\n            this.setState({ modalVisible: false });\r\n            this.getDicts();\r\n            form.resetFields();\r\n          }}\r\n          okText={ this.dictPage.createDictModalOk }\r\n          cancelText={ this.dictPage.modalCancel }\r\n        >\r\n          <Form onSubmit={ this.handleModalOkClick }>\r\n            <Item>{getFieldDecorator('name', {\r\n                rules: [{\r\n                  required: true,\r\n                  message: this.dictPage.nameWarning,\r\n                }],\r\n              })(\r\n                <Input\r\n                  size=\"large\"\r\n                  placeholder={ this.dictPage.namePlaceholder }\r\n                />\r\n              )}\r\n            </Item>\r\n          </Form>\r\n        </Modal>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Form.create()(Dict);\r\n\r\n","import en from './en';\r\nimport cn from './cn';\r\n\r\nexport default [\r\n    en,\r\n    cn,\r\n];\r\n","export default {\r\n  name: 'English',\r\n  key: 'en',\r\n  appPage: {\r\n    add: 'Add',\r\n    memorize: 'Memorize',\r\n    dict: 'Dicts',\r\n    setting: 'Setting',\r\n    languageModalTitle: 'Choose your language',\r\n    languageModalOk: 'Ok',\r\n    languageModalCancel: 'Cancel',\r\n  },\r\n  addPage: {\r\n    interpreWarning: 'Interpretation cannot be blank !',\r\n    interprePlaceholder: 'interpretation',\r\n    successInfo: 'Successful adding！',\r\n    clearWarning: 'All your input will be cleared, are you sure ?',\r\n    clearOk: 'Yes',\r\n    clearCancel: 'No',\r\n    dictWarning: \"Choose a dictionary first, create one if you don't have.\",\r\n    dictPlaceholder: 'Choose a dictionary',\r\n    textWarning: 'Word cannot be blank !',\r\n    textPlaceholder: 'word',\r\n    kanaPlaceholder: 'IPA/Kana',\r\n    add: 'Add',\r\n    cancel: 'Cancel',\r\n  },\r\n  memorizePage: {\r\n    uploadAdd: 'Add',\r\n    uploadCancel: 'Cancel',\r\n    deleteModalTitle: 'Are you sure to delete this word ?',\r\n    deleteModalOk: 'Yes',\r\n    deleteModalCancel: 'No',\r\n    emptyTip: 'No word there, create a dictionary and add some !~',\r\n    reset: 'Next Group',\r\n  },\r\n  dictPage: {\r\n    modalCancel: 'Cancel',\r\n    setCurrentSuccessInfo: 'Successfully set the dictionary to memorize !',\r\n    removeDictWarning: 'Be careful! You will delete all the words in it by doing this !',\r\n    removeDictSuccessInfo: 'Successfully deleted a dictionary !',\r\n    removeDictModalOK: 'I know, just remove it',\r\n    addDictSuccessInfo: 'Successfully added a dictionary !',\r\n    renameDictSuccessInfo: \"Successfully changed a dictionary's name !\",\r\n    wrongDictFormatWarning: 'Wrong format, import failed !',\r\n    createDict: 'New',\r\n    importDict: 'Import',\r\n    setCurrentDict: 'Memorize',\r\n    renameDict: 'Rename',\r\n    exportDict: 'Export',\r\n    removeDict: 'Remove',\r\n    currentDict: 'Memorizing...',\r\n    createDictModalTitle: 'Create a new dictionary',\r\n    createDictModalOk: 'Create',\r\n    nameWarning: 'Name cannot be blank !',\r\n    namePlaceholder: 'Name',\r\n  },\r\n  settingPage: {\r\n    license: 'OpenSource based on GPLv3 license',\r\n    language: 'Language',\r\n    feedback: 'Feedback',\r\n    sourceCode: 'SourceCode',\r\n    donate: 'Donate',\r\n  },\r\n  imgUploader: {\r\n    uploaderTip: 'Add image (Drag supported)',\r\n    pasteAreaTip: 'Directly paste image here (Only PC)',\r\n  },\r\n};\r\n","export default {\r\n  name: '简体中文',\r\n  key: 'cn',\r\n  appPage: {\r\n    add: '加词',\r\n    memorize: '背词',\r\n    dict: '辞书',\r\n    setting: '设置',\r\n    languageModalTitle: '选择界面语言',\r\n    languageModalOk: '确定',\r\n    languageModalCancel: '取消',\r\n  },\r\n  addPage: {\r\n    interpreWarning: '释义不能为空！',\r\n    interprePlaceholder: '释义',\r\n    successInfo: '添加成功！',\r\n    clearWarning: '将会清空本次添加，是否继续？',\r\n    clearOk: '是',\r\n    clearCancel: '否',\r\n    dictWarning: '请选择辞书，若没有请先去创建',\r\n    dictPlaceholder: '选择辞书',\r\n    textWarning: '单词不能为空!',\r\n    textPlaceholder: '单词',\r\n    kanaPlaceholder: '假名/音标',\r\n    add: '添加',\r\n    cancel: '取消',\r\n  },\r\n  memorizePage: {\r\n    uploadAdd: '添加',\r\n    uploadCancel: '取消',\r\n    deleteModalTitle: '真的要删除这个单词吗？',\r\n    deleteModalOk: '是的',\r\n    deleteModalCancel: '点错了',\r\n    emptyTip: '还没有单词，请先创建辞书再添加单词',\r\n    reset: '下一组',\r\n  },\r\n  dictPage: {\r\n    modalCancel: '取消',\r\n    setCurrentSuccessInfo: '设置在背辞书成功！',\r\n    removeDictWarning: '将会删除此辞书内所有单词，请三思！',\r\n    removeDictSuccessInfo: '辞书删除成功！',\r\n    removeDictModalOK: '删除',\r\n    addDictSuccessInfo: '辞书添加成功！',\r\n    renameDictSuccessInfo: '辞书改名成功！',\r\n    wrongDictFormatWarning: '辞书格式不正确，导入失败！',\r\n    createDict: '新建辞书',\r\n    importDict: '导入辞书',\r\n    setCurrentDict: '背它',\r\n    renameDict: '重命名',\r\n    exportDict: '导出',\r\n    removeDict: '删除',\r\n    currentDict: '正在背',\r\n    createDictModalTitle: '新建辞书',\r\n    createDictModalOk: '确定',\r\n    nameWarning: '名称不能为空！',\r\n    namePlaceholder: '名称',\r\n  },\r\n  settingPage: {\r\n    license: '基于GPLv3许可证开源',\r\n    language: '语言',\r\n    feedback: '问题反馈',\r\n    sourceCode: '源代码',\r\n    donate: '打赏作者',\r\n  },\r\n  imgUploader: {\r\n    uploaderTip: '添加图片（可拖拽）',\r\n    pasteAreaTip: '在此处可直接粘贴图片（仅电脑）',\r\n  },\r\n};\r\n","import React, { PureComponent } from 'react';\r\nimport {\r\n  Col,\r\n  Card,\r\n  Row,\r\n  Icon,\r\n  Typography,\r\n  Radio,\r\n  Modal,\r\n} from 'antd';\r\nimport './index.css';\r\nimport logo from '../../logo.png';\r\nimport locales from \"../../locale/config\";\r\n\r\nconst { Paragraph } = Typography;\r\nconst RadioGroup = Radio.Group;\r\n\r\nclass Setting extends PureComponent {\r\n  handleIssue = () => {\r\n    window.location.replace('https://gitee.com/AdreamStudio/OpenMemorize/issues/');\r\n  };\r\n\r\n  handleSourceCode = () => {\r\n    window.location.replace('https://gitee.com/AdreamStudio/OpenMemorize/');\r\n  };\r\n\r\n  handleDonate = () => {\r\n    const { history } = this.props;\r\n\r\n    history.push('/donate');\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      locale,\r\n      localeName,\r\n      onChangeLanguage,\r\n      onRadioChange,\r\n      onLanguageClick,\r\n      modalVisible,\r\n    } = this.props;\r\n    const { settingPage, appPage } = locale;\r\n\r\n    return (\r\n      <Col\r\n        xs={{ span:22, offset:1 }}\r\n        md={{ span: 12, offset: 6 }}\r\n      >\r\n        <Row gutter={ 4 }>\r\n          <Col\r\n            span={ 24 }\r\n            style={{ marginBottom: '10px' }}\r\n          >\r\n            <Card\r\n              bordered={ false }\r\n            >\r\n              <Col span={ 18 }>\r\n                <Paragraph>Open Memorize - v1.4.0</Paragraph>\r\n                <a\r\n                  href=\"https://gitee.com/joenahm/codeMemo/blob/master/resume.md\"\r\n                  target=\"_blank\"\r\n                >\r\n                  Joe Nahm\r\n                </a>\r\n                <Paragraph>\r\n                  <a\r\n                    href=\"https://gitee.com/AdreamStudio/OpenMemorize/raw/master/LICENSE\"\r\n                    target=\"_blank\"\r\n                  >\r\n                    { settingPage.license }\r\n                  </a>\r\n                </Paragraph>\r\n              </Col>\r\n              <Col span={ 6 }>\r\n                <img src={ logo } width=\"100%\" alt=\"logo\" />\r\n              </Col>\r\n            </Card>\r\n          </Col>\r\n          <Col span={ 8 }>\r\n            <Card\r\n              bordered={ false }\r\n              className=\"card\"\r\n              onClick={ onLanguageClick }\r\n            >\r\n              <Icon type=\"global\" />\r\n              <span className=\"text\">{ settingPage.language }</span>\r\n            </Card>\r\n          </Col>\r\n          <Col span={ 8 }>\r\n            <Card\r\n              bordered={ false }\r\n              className=\"card\"\r\n              onClick={ this.handleSourceCode }\r\n            >\r\n              <Icon type=\"code\" />\r\n              <span className=\"text\">{ settingPage.sourceCode }</span>\r\n            </Card>\r\n          </Col>\r\n          <Col span={ 8 }>\r\n            <Card\r\n              bordered={false}\r\n              className=\"card\"\r\n              onClick={ this.handleDonate }\r\n            >\r\n              <Icon type=\"like\" />\r\n              <span className=\"text\">{ settingPage.donate }</span>\r\n            </Card>\r\n          </Col>\r\n          <Col span={ 8 }>\r\n            <Card\r\n              bordered={ false }\r\n              className=\"card\"\r\n              onClick={ this.handleIssue }\r\n            >\r\n              <Icon type=\"question-circle\" />\r\n              <span className=\"text\">{ settingPage.feedback }</span>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Modal\r\n          title={ appPage.languageModalTitle }\r\n          visible={ modalVisible }\r\n          onOk={ onChangeLanguage }\r\n          onCancel={ () => this.setState({ localeName: '', modalVisible: false }) }\r\n          okText={ appPage.languageModalOk }\r\n          cancelText={ appPage.languageModalCancel }\r\n        >\r\n          <RadioGroup\r\n            onChange={ onRadioChange }\r\n            value={ localeName }\r\n          >\r\n            { locales.map(item => (\r\n              <Radio\r\n                key={ item.key }\r\n                value={ item.key }\r\n              >\r\n                { item.name }\r\n              </Radio>\r\n            )) }\r\n          </RadioGroup>\r\n        </Modal>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Setting;\r\n","import React, { PureComponent } from 'react';\r\nimport {\r\n  Col,\r\n  Card,\r\n} from 'antd';\r\nimport wechat from '../../wechat.png';\r\nimport alipay from '../../alipay.jpg';\r\nimport './index.css';\r\n\r\nclass Donate extends PureComponent {\r\n  render() {\r\n    return (\r\n      <Col\r\n        xs={{ span:22, offset:1 }}\r\n        md={{ span: 12, offset: 6 }}\r\n      >\r\n        <Card\r\n          title=\"支付宝 Alipay\"\r\n          className=\"card\"\r\n        >\r\n          <img\r\n            src={ alipay }\r\n            className=\"qrcode\"\r\n            alt=\"支付宝收款码\"\r\n          />\r\n        </Card>\r\n        <Card\r\n          title=\"微信 WeChat\"\r\n          className=\"card\"\r\n        >\r\n          <img\r\n            src={ wechat }\r\n            className=\"qrcode\"\r\n            alt=\"微信收款码\"\r\n          />\r\n        </Card>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Donate;\r\n","import React, { PureComponent } from 'react';\r\nimport {\r\n  Affix,\r\n  Menu,\r\n  Icon,\r\n  Modal,\r\n  Radio,\r\n} from 'antd';\r\nimport {\r\n  Router,\r\n  Route,\r\n  Redirect,\r\n} from 'react-router-dom';\r\nimport { createBrowserHistory } from \"history\";\r\nimport { get as getSetting, set as setSetting } from './models/setting';\r\nimport Memorize from './pages/Memorize';\r\nimport Add from './pages/Add';\r\nimport Dict from './pages/Dict';\r\nimport Setting from './pages/Setting';\r\nimport Donate from './pages/Donate';\r\nimport locales from './locale/config';\r\nimport './App.css';\r\n\r\nconst { Item } = Menu;\r\nconst RadioGroup = Radio.Group;\r\n\r\nconst history = createBrowserHistory();\r\n\r\nexport default class App extends PureComponent {\r\n  state = {\r\n    page: 'memorize',\r\n    cache: {\r\n      formData: null,\r\n      img: null,\r\n    },\r\n    localeName: '',\r\n    locale: null,\r\n    modalVisible: false,\r\n    languageItems: null,\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.getSettings();\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { pathname } = history.location;\r\n\r\n    this.setState({ page: pathname.slice(1) });\r\n    // 让page随url变化\r\n  }\r\n\r\n  getSettings = () => {\r\n    getSetting(setting => {\r\n      const localeFound = locales.find(item => item.key===setting.locale);\r\n      this.setState({\r\n        localeName: setting.locale==='' ? 'en' : setting.locale,\r\n        locale: localeFound ? localeFound : locales[0],\r\n      });\r\n\r\n      if (setting.locale === '') {\r\n        this.setState({ modalVisible: true });\r\n      }\r\n    });\r\n  };\r\n\r\n  handleRadioChange = e => {\r\n    const key = e.target.value;\r\n    this.setState({\r\n      locale: locales.find(item => item.key===key),\r\n      localeName: key,\r\n    });\r\n  };\r\n\r\n  handleChangeLanguage = () => {\r\n    const { locale } = this.state;\r\n\r\n    setSetting({\r\n      setting: {\r\n        locale: locale.key,\r\n      },\r\n      onSuccess: () => {\r\n        this.setState({ modalVisible: false });\r\n        this.getSettings();\r\n      },\r\n    });\r\n  };\r\n\r\n  handleMenuClick = (e) => {\r\n    history.push(e.key);\r\n\r\n    this.setState({ page: e.key });\r\n  };\r\n\r\n  handleCache = (cache) => {\r\n    this.setState({ cache });\r\n  };\r\n\r\n  handleRetrieve = () => {\r\n    const { cache } = this.state;\r\n\r\n    return cache;\r\n  };\r\n\r\n  render() {\r\n    const { page , locale, modalVisible, localeName } = this.state;\r\n    let appPage;\r\n    if (locale !== null) {\r\n      appPage = locale.appPage;\r\n    }\r\n\r\n    return (\r\n      <Router history={ history }>\r\n        { locale && appPage && (\r\n          <div\r\n            className=\"wrapper\"\r\n          >\r\n            <Affix\r\n              className=\"affix\"\r\n            >\r\n              <Menu\r\n                className=\"menu\"\r\n                onClick={this.handleMenuClick}\r\n                selectedKeys={[page]}\r\n                mode=\"horizontal\"\r\n              >\r\n                <Item\r\n                  key=\"add\"\r\n                  className=\"tabItem\"\r\n                >\r\n                  <Icon type=\"plus-square\" />{ appPage.add }\r\n                </Item>\r\n                <Item\r\n                  key=\"memorize\"\r\n                  className=\"tabItem\"\r\n                >\r\n                  <Icon type=\"thunderbolt\" />{ appPage.memorize }\r\n                </Item>\r\n                <Item\r\n                  key=\"dict\"\r\n                  className=\"tabItem\"\r\n                >\r\n                  <Icon type=\"book\" />{ appPage.dict }\r\n                </Item>\r\n                <Item\r\n                  key=\"setting\"\r\n                  className=\"tabItem\"\r\n                >\r\n                  <Icon type=\"setting\" />{ appPage.setting }\r\n                </Item>\r\n              </Menu>\r\n            </Affix>\r\n\r\n            <Modal\r\n              title={ appPage.languageModalTitle }\r\n              visible={ modalVisible }\r\n              onOk={ this.handleChangeLanguage }\r\n              onCancel={ () => this.setState({ localeName: '', modalVisible: false }) }\r\n              okText={ appPage.languageModalOk }\r\n              cancelText={ appPage.languageModalCancel }\r\n            >\r\n              <RadioGroup\r\n                onChange={ this.handleRadioChange }\r\n                value={ localeName }\r\n              >\r\n                { locales.map(item => (\r\n                  <Radio\r\n                    key={ item.key }\r\n                    value={ item.key }\r\n                  >\r\n                    { item.name }\r\n                  </Radio>\r\n                )) }\r\n              </RadioGroup>\r\n            </Modal>\r\n\r\n            <Route path=\"/\" exact render={props => (\r\n              <Redirect\r\n                to={{\r\n                  pathname: '/memorize',\r\n                  state: { from: props.location },\r\n                }}\r\n              />\r\n            )} />\r\n            <Route\r\n              path=\"/add\"\r\n              render={ props => (\r\n                <Add\r\n                  onCache={ this.handleCache}\r\n                  onRetrieve={ this.handleRetrieve }\r\n                  locale={ locale }\r\n                  { ...props }\r\n                />\r\n              )}\r\n            />\r\n            <Route\r\n              path=\"/memorize\"\r\n              render={ props => (\r\n                <Memorize\r\n                  locale={ locale }\r\n                  { ...props }\r\n                />\r\n              )}\r\n            />\r\n            <Route\r\n              path=\"/dict\"\r\n              render={ props => (\r\n                <Dict\r\n                  locale={ locale }\r\n                  { ...props }\r\n                />\r\n              )}\r\n            />\r\n            <Route\r\n              path=\"/setting\"\r\n              render={ props => (\r\n                <Setting\r\n                  locale={ locale }\r\n                  onRadioChange={ this.handleRadioChange }\r\n                  onChangeLanguage={ this.handleChangeLanguage }\r\n                  onLanguageClick={ () => this.setState({ modalVisible: true }) }\r\n                  visible={ modalVisible }\r\n                  localeName={ localeName }\r\n                  { ...props }\r\n                />\r\n              )}\r\n            />\r\n            <Route path=\"/donate\" component={Donate } />\r\n          </div>\r\n        )}\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();"],"sourceRoot":""}